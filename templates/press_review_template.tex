# Script to create the LaTeX template file with the desired layout and Jinja2 placeholders

# Define the LaTeX template content
latex_template_content = r"""
\documentclass[11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[a4paper,margin=2.5cm]{geometry}
\usepackage{lmodern}
\usepackage{hyperref}
\usepackage{xcolor}
\usepackage{titlesec}
\usepackage{fancyhdr}
\usepackage{tocloft}
\usepackage{enumitem}
\usepackage{datetime}

\pagestyle{fancy}
\fancyhf{}
\rhead{Weekly Press Review}
\lhead{\today}
\cfoot{\thepage}

\titleformat{\section}{\Large\bfseries\sffamily\color{blue}}{}{0em}{}
\titleformat{\subsection}{\bfseries\color{black}}{}{0em}{}

\setlength{\parskip}{0.5em}
\setlength{\parindent}{0pt}

\begin{document}
\begin{center}
    {\LARGE \textbf{Weekly Press Review}}\\
    \vspace{0.5em}
    \textit{Generated on {{ generated_date }}}
\end{center}

\vspace{1em}
\tableofcontents
\newpage

{% for company in companies %}
\section{ {{ company.company }} }
{% for article in company.articles %}
\subsection{ {{ article.title }} }
\textbf{Published:} {{ article.published }} \\
\textbf{Summary:} {{ article.summary }} \\
\textbf{Link:} \url{ {{ article.link }} }

\vspace{1em}
{% endfor %}
{% endfor %}

\end{document}
"""

# Create the templates directory if it doesn't exist
import os
os.makedirs("templates", exist_ok=True)

# Write the template content to the file
with open("templates/press_review_template.tex", "w", encoding="utf-8") as f:
    f.write(latex_template_content)

print("✅ Le fichier LaTeX press_review_template.tex a été créé avec succès dans le dossier templates/.")
